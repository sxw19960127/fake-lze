# 字符串遍历器接口

`ES6`为字符串添加了遍历器接口，使得字符串可被`for...of`循环遍历。 

```js
for(let num of 'foo') {
    console.log(num)
}
// 'f'
// 'o'
// 'o'
```

# 模板字符串

传统字符串：

```js
换行: \n
拼接: \ 或者 加法运算符 +
    let age = 3;
    let msg ="msgmsgmsg\n\
    msgmsgmsg\n" + age + "msg";
```



可当作普通字符串使用，也可用来定义多行字符串，或者在字符串中嵌入变量。

```js
// 普通字符串
`In JavaScript '\n' is a line-feed.`
```

```js
// 多行字符串
`In JavaScript this is
 not legal.`

console.log(`string text line 1
string text line 2`);
```

替换位`${}`：

```js
// 字符串中嵌入变量
let name = "Bob", time = "today";
`Hello ${name}, how are you ${time}?`
```

在模板字符串中使用反引号，前面要加反斜杠进行转义。 

```js
let greeting = `\`Yo\` World!`;
```

```js
let x = 1;
let y = 2;

`${x} + ${y} = ${x + y}`
// "1 + 2 = 3"

`${x} + ${y * 2} = ${x + y * 2}`
// "1 + 4 = 5"

let obj = {x: 1, y: 2};
`${obj.x + obj.y}`
// "3"
```

调用函数：

```js
function fn() {
  return "Hello World";
}

`foo ${fn()} bar`
// foo Hello World bar
```

```html
<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <title>Document</title>
</head>
<body>
   <ul id="myUl"></ul>
   <script>
      let myUl = document.getElementById('myUl')
      let html = ''
      let arr = [
         {title: "我是标题1",like: "a"},
         {title: "我是标题2",like: "b"},
         {title: "我是标题3",like: "c"}
      ]
      arr.forEach((item) => {
         html += `
            <li>
               <h1>${item.title}</h1>
               <p>${item.like}</p>
            </li>
         `
      })
      myUl.innerHTML = html
   </script>
</body>
</html>
```

# 扩展方法

## `String.startsWith`

返回布尔值

```js
let str = '123abc'
console.log(str.startsWith(123,0)) //true
// 数组索引位第0位开始,是以123开始的吗？
```



## `String.endsWith`

返回布尔值

```js
let str = '123abc'
console.log(str.endsWith('3a',4)) // true
// 数组索引位第4位之前(不含第4位)是以3a结尾的吗
```



## `String.includes`

返回布尔值

```js
let str = '123abc'
console.log(str.includes('3a')) // true
// 判断字符是否在当前字符串内
```

```js
// 使用ES5做兼容处理
if(!String.prototype.includes) {
    String.prototype.includes = function(search,start) {
        if(typeof start !== 'number') {
			// 解决用户输入不友好
           	start = 0 // 默认从开头开始
        }
        if(start + search.length > this.length) {
            return false
        }else {
            return this.indexOf(search,start) !== -1
        }
    }
}
```



## `String.repeat()`

重复当前字符串次数

```js
let str = '123abc'
console.log(str.repeat(2)) // 123abc123abc
```

## `String.indexOf()`

```js
let str = '123abc' 
console.log(str.indexOf('3')) // 2
console.log(str.indexOf('0')) // -1
```

## `String.padStart()`

## `String.padEnd()`

字符串补全长度的功能。 

```js
'x'.padStart(4, 'ab') // 'abax'
```

```js
'x'.padEnd(4, 'ab') // 'xaba'
```

如果用来补全的字符串与原字符串，两者长度之和超过了最大长度，则会截去超出位数的补全字符串。 

```js
'abc'.padStart(10, '0123456789')
// '0123456abc'
```

省略第二个参数，默认使用空格补全长度。 

```js
'x'.padStart(4) // '   x'
'x'.padEnd(4) // 'x   '
```

格式化字符串：

```js
'12'.padStart(10, 'YYYY-MM-DD') // "YYYY-MM-12"
'09-12'.padStart(10, 'YYYY-MM-DD') // "YYYY-09-12"
```

## `String.trimStart()`

## `String.trimEnd()`

消除字符串中的空格，返回的都是新字符串，不会修改原始字符串。 

```js
const s = '  abc  ';

s.trim() // "abc"
s.trimStart() // "abc  "
s.trimEnd() // "  abc"
```

